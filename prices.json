{
  "Vake": { "apartment": 1300, "house": 1100 },
  "Saburtalo": { "apartment": 1200, "house": 1000 }
}
document.getElementById('estimatorForm').addEventListener('submit', function (e) {
  e.preventDefault();

  const districtInput = document.getElementById('district').value.trim();

  // Получим список районов из geoJSON
  const districts = districtLayer.getLayers().map(layer => layer.feature.properties.name);

  if (!districts.includes(districtInput)) {
    document.getElementById('result').textContent = 'Данные по району отсутствуют.';
    return; // Прекращаем дальше вычислять
  }

  const size = parseFloat(document.getElementById('size').value);
  const type = document.getElementById('type').value;
  const condition = document.getElementById('condition').value;
  const year = parseInt(document.getElementById('year').value);

  let basePricePerSqM = 1200;
  if (type === 'house') basePricePerSqM = 1000;
  if (condition === 'renovated') basePricePerSqM += 200;
  if (year && year > 2015) basePricePerSqM += 100;
  if (year && year < 1980) basePricePerSqM -= 150;

  const estimate = size * basePricePerSqM;

  document.getElementById('result').textContent =
    `Estimated Property Value: $${estimate.toLocaleString(undefined, {minimumFractionDigits: 0})}`;
});
